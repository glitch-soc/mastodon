(window.webpackJsonp=window.webpackJsonp||[]).push([[323],{1255:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return m}));var o,i=a(0),n=a(1),s=a.n(n),c=a(6),l=a(18),d=a(12),r=a(33),u=a(10),b=a.n(u),p=a(60);class h extends s.a.PureComponent{constructor(){super(...arguments),this.state={copied:!1},this.setRef=e=>{this.input=e},this.handleInputClick=()=>{this.setState({copied:!1}),this.input.focus(),this.input.select(),this.input.setSelectionRange(0,this.input.value.length)},this.handleButtonClick=()=>{const{value:e}=this.props;navigator.clipboard.writeText(e),this.input.blur(),this.setState({copied:!0}),this.timeout=setTimeout((()=>this.setState({copied:!1})),700)}}componentWillUnmount(){this.timeout&&clearTimeout(this.timeout)}render(){const{value:e}=this.props,{copied:t}=this.state;return Object(i.a)("div",{className:b()("copypaste",{copied:t})},void 0,s.a.createElement("input",{type:"text",ref:this.setRef,value:e,readOnly:!0,onClick:this.handleInputClick}),Object(i.a)("button",{className:"button",onClick:this.handleButtonClick},void 0,t?Object(i.a)(c.b,{id:"copypaste.copied",defaultMessage:"Copied"}):Object(i.a)(c.b,{id:"copypaste.copy",defaultMessage:"Copy"})))}}let m=Object(d.connect)(((e,t)=>{let{accountId:a}=t;return{displayNameHtml:e.getIn(["accounts",a,"display_name_html"])}}),(e=>({onSignupClick(){e(Object(p.c)()),e(Object(p.d)("CLOSED_REGISTRATIONS"))}})))(o=class extends s.a.PureComponent{constructor(){super(...arguments),this.handleSignupClick=()=>{this.props.onSignupClick()}}render(){const{url:e,type:t,displayNameHtml:a}=this.props,o=Object(i.a)("bdi",{dangerouslySetInnerHTML:{__html:a}});let n,s,d,u;switch(t){case"reply":d=Object(i.a)(r.a,{id:"reply"}),n=Object(i.a)(c.b,{id:"interaction_modal.title.reply",defaultMessage:"Reply to {name}'s post",values:{name:o}}),s=Object(i.a)(c.b,{id:"interaction_modal.description.reply",defaultMessage:"With an account on Mastodon, you can respond to this post."});break;case"reblog":d=Object(i.a)(r.a,{id:"retweet"}),n=Object(i.a)(c.b,{id:"interaction_modal.title.reblog",defaultMessage:"Boost {name}'s post",values:{name:o}}),s=Object(i.a)(c.b,{id:"interaction_modal.description.reblog",defaultMessage:"With an account on Mastodon, you can boost this post to share it with your own followers."});break;case"favourite":d=Object(i.a)(r.a,{id:"star"}),n=Object(i.a)(c.b,{id:"interaction_modal.title.favourite",defaultMessage:"Favourite {name}'s post",values:{name:o}}),s=Object(i.a)(c.b,{id:"interaction_modal.description.favourite",defaultMessage:"With an account on Mastodon, you can favourite this post to let the author know you appreciate it and save it for later."});break;case"follow":d=Object(i.a)(r.a,{id:"user-plus"}),n=Object(i.a)(c.b,{id:"interaction_modal.title.follow",defaultMessage:"Follow {name}",values:{name:o}}),s=Object(i.a)(c.b,{id:"interaction_modal.description.follow",defaultMessage:"With an account on Mastodon, you can follow {name} to receive their posts in your home feed.",values:{name:o}})}return u=l.u?Object(i.a)("a",{href:"/auth/sign_up",className:"button button--block button-tertiary"},void 0,Object(i.a)(c.b,{id:"sign_in_banner.create_account",defaultMessage:"Create account"})):Object(i.a)("button",{className:"button button--block button-tertiary",onClick:this.handleSignupClick},void 0,Object(i.a)(c.b,{id:"sign_in_banner.create_account",defaultMessage:"Create account"})),Object(i.a)("div",{className:"modal-root__modal interaction-modal"},void 0,Object(i.a)("div",{className:"interaction-modal__lead"},void 0,Object(i.a)("h3",{},void 0,Object(i.a)("span",{className:"interaction-modal__icon"},void 0,d)," ",n),Object(i.a)("p",{},void 0,s," ",Object(i.a)(c.b,{id:"interaction_modal.preamble",defaultMessage:"Since Mastodon is decentralized, you can use your existing account hosted by another Mastodon server or compatible platform if you don't have an account on this one."}))),Object(i.a)("div",{className:"interaction-modal__choices"},void 0,Object(i.a)("div",{className:"interaction-modal__choices__choice"},void 0,Object(i.a)("h3",{},void 0,Object(i.a)(c.b,{id:"interaction_modal.on_this_server",defaultMessage:"On this server"})),Object(i.a)("a",{href:"/auth/sign_in",className:"button button--block"},void 0,Object(i.a)(c.b,{id:"sign_in_banner.sign_in",defaultMessage:"Sign in"})),u),Object(i.a)("div",{className:"interaction-modal__choices__choice"},void 0,Object(i.a)("h3",{},void 0,Object(i.a)(c.b,{id:"interaction_modal.on_another_server",defaultMessage:"On a different server"})),Object(i.a)("p",{},void 0,Object(i.a)(c.b,{id:"interaction_modal.other_server_instructions",defaultMessage:"Copy and paste this URL into the search field of your favourite Mastodon app or the web interface of your Mastodon server."})),Object(i.a)(h,{value:e}))))}})||o}}]);
//# sourceMappingURL=interaction_modal-69ae4c9d8d7d39eafd2e.chunk.js.map