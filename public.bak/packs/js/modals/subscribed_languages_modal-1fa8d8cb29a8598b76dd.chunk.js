(window.webpackJsonp=window.webpackJsonp||[]).push([[326],{1256:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return _}));var s,l,n=t(0),i=(t(1),t(2)),c=t.n(i),g=t(20),o=t(21),d=t.n(o),r=t(12),u=t(48),b=t(4),p=t(18),m=t(1384),h=t(6),O=t(52),j=t(201),v=t(22);const f=Object(h.f)({close:{id:"lightbox.close",defaultMessage:"Close"}}),L=Object(u.a)([(e,a)=>e.getIn(["timelines",`account:${a}`,"items"],Object(b.List)()),e=>e.get("statuses")],((e,a)=>new b.Set(e.map((e=>a.get(e))).filter((e=>!e.get("reblog"))).map((e=>e.get("language"))))));let _=Object(r.connect)(((e,a)=>{let{accountId:t}=a;return{acct:e.getIn(["accounts",t,"acct"]),availableLanguages:L(e,t),selectedLanguages:Object(b.Set)(e.getIn(["relationships",t,"languages"])||Object(b.List)())}}),((e,a)=>{let{accountId:t}=a;return{onSubmit(a){e(Object(v.T)(t,{languages:a}))}}}))(s=Object(h.g)((l=class extends g.a{constructor(){super(...arguments),this.state={selectedLanguages:this.props.selectedLanguages},this.handleLanguageToggle=(e,a)=>{const{selectedLanguages:t}=this.state;a?this.setState({selectedLanguages:t.add(e)}):this.setState({selectedLanguages:t.delete(e)})},this.handleSubmit=()=>{this.props.onSubmit(this.state.selectedLanguages.toArray()),this.props.onClose()}}renderItem(e){const a=this.props.languages.find((a=>a[0]===e)),t=this.state.selectedLanguages.includes(e);return a?Object(n.a)(m.a,{name:"languages",value:e,label:a[1],checked:t,onToggle:this.handleLanguageToggle,multiple:!0},e):null}render(){const{acct:e,availableLanguages:a,selectedLanguages:t,intl:s,onClose:l}=this.props;return Object(n.a)("div",{className:"modal-root__modal report-dialog-modal"},void 0,Object(n.a)("div",{className:"report-modal__target"},void 0,Object(n.a)(O.a,{className:"report-modal__close",title:s.formatMessage(f.close),icon:"times",onClick:l,size:20}),Object(n.a)(h.b,{id:"subscribed_languages.target",defaultMessage:"Change subscribed languages for {target}",values:{target:Object(n.a)("strong",{},void 0,e)}})),Object(n.a)("div",{className:"report-dialog-modal__container"},void 0,Object(n.a)("p",{className:"report-dialog-modal__lead"},void 0,Object(n.a)(h.b,{id:"subscribed_languages.lead",defaultMessage:"Only posts in selected languages will appear on your home and list timelines after the change. Select none to receive posts in all languages."})),Object(n.a)("div",{},void 0,a.union(t).delete(null).map((e=>this.renderItem(e)))),Object(n.a)("div",{className:"flex-spacer"}),Object(n.a)("div",{className:"report-dialog-modal__actions"},void 0,Object(n.a)(j.a,{disabled:Object(b.is)(this.state.selectedLanguages,this.props.selectedLanguages),onClick:this.handleSubmit},void 0,Object(n.a)(h.b,{id:"subscribed_languages.save",defaultMessage:"Save changes"})))))}},l.propTypes={accountId:c.a.string.isRequired,acct:c.a.string.isRequired,availableLanguages:d.a.setOf(c.a.string),selectedLanguages:d.a.setOf(c.a.string),onClose:c.a.func.isRequired,languages:c.a.arrayOf(c.a.arrayOf(c.a.string)),intl:c.a.object.isRequired,submit:c.a.func.isRequired},l.defaultProps={languages:p.l},s=l))||s)||s}}]);
//# sourceMappingURL=subscribed_languages_modal-1fa8d8cb29a8598b76dd.chunk.js.map