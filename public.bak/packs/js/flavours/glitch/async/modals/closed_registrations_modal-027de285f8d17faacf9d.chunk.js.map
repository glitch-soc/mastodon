{"version":3,"sources":["webpack:///app/javascript/home/mastodon/live/app/javascript/flavours/glitch/features/closed_registrations_modal/index.jsx"],"names":["ClosedRegistrationsModal","connect","state","message","getIn","_dec","_class","ImmutablePureComponent","componentDidMount","dispatch","this","props","fetchServer","render","closedRegistrationsMessage","_jsx","className","dangerouslySetInnerHTML","__html","FormattedMessage","id","defaultMessage","values","domain","href"],"mappings":"uMASG,IAGGA,EADUC,mBAJQC,IAAK,CAC3BC,QAASD,EAAME,MAAM,CAAC,SAAU,SAAU,gBAAiB,eAGrBC,CAAAC,EAAzB,cACwBC,IAErCC,oBACE,MAAM,SAAEC,GAAaC,KAAKC,MAC1BF,EAASG,eAGXC,SACE,IAAIC,EAqBJ,OAlBEA,EADEJ,KAAKC,MAAMR,QAEXY,YAAA,KACEC,UAAU,QACVC,wBAAyB,CAAEC,OAAQR,KAAKC,MAAMR,WAKhDY,YAAA,KAAGC,UAAU,cAAO,EAClBD,YAACI,IAAgB,CACfC,GAAG,yCACHC,eAAe,+JACfC,OAAQ,CAAEC,OAAQR,YAAA,mBAASQ,SAOjCR,YAAA,OAAKC,UAAU,4CAAqC,EAClDD,YAAA,OAAKC,UAAU,gCAAyB,EACtCD,YAAA,eAAIA,YAACI,IAAgB,CAACC,GAAG,mCAAmCC,eAAe,4BAC3EN,YAAA,cACEA,YAACI,IAAgB,CACfC,GAAG,sCACHC,eAAe,4KAKrBN,YAAA,OAAKC,UAAU,mCAA4B,EACzCD,YAAA,OAAKC,UAAU,2CAAoC,EACjDD,YAAA,eAAIA,YAACI,IAAgB,CAACC,GAAG,mCAAmCC,eAAe,oBAC1EP,GAGHC,YAAA,OAAKC,UAAU,2CAAoC,EACjDD,YAAA,eAAIA,YAACI,IAAgB,CAACC,GAAG,sCAAsCC,eAAe,2BAC9EN,YAAA,KAAGC,UAAU,cAAO,EAClBD,YAACI,IAAgB,CACfC,GAAG,iDACHC,eAAe,oHAGnBN,YAAA,KAAGS,KAAK,mCAAmCR,UAAU,6BAAsB,EAACD,YAACI,IAAgB,CAACC,GAAG,iDAAiDC,eAAe,gCAO5Kf","file":"js/flavours/glitch/async/modals/closed_registrations_modal-027de285f8d17faacf9d.chunk.js","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport { FormattedMessage } from 'react-intl';\nimport ImmutablePureComponent from 'react-immutable-pure-component';\nimport { domain } from 'flavours/glitch/initial_state';\nimport { fetchServer } from 'flavours/glitch/actions/server';\n\nconst mapStateToProps = state => ({\n  message: state.getIn(['server', 'server', 'registrations', 'message']),\n});\n\nexport default @connect(mapStateToProps)\nclass ClosedRegistrationsModal extends ImmutablePureComponent {\n\n  componentDidMount () {\n    const { dispatch } = this.props;\n    dispatch(fetchServer());\n  }\n\n  render () {\n    let closedRegistrationsMessage;\n\n    if (this.props.message) {\n      closedRegistrationsMessage = (\n        <p\n          className='prose'\n          dangerouslySetInnerHTML={{ __html: this.props.message }}\n        />\n      );\n    } else {\n      closedRegistrationsMessage = (\n        <p className='prose'>\n          <FormattedMessage\n            id='closed_registrations_modal.description'\n            defaultMessage='Creating an account on {domain} is currently not possible, but please keep in mind that you do not need an account specifically on {domain} to use Mastodon.'\n            values={{ domain: <strong>{domain}</strong> }}\n          />\n        </p>\n      );\n    }\n\n    return (\n      <div className='modal-root__modal interaction-modal'>\n        <div className='interaction-modal__lead'>\n          <h3><FormattedMessage id='closed_registrations_modal.title' defaultMessage='Signing up on Mastodon' /></h3>\n          <p>\n            <FormattedMessage\n              id='closed_registrations_modal.preamble'\n              defaultMessage='Mastodon is decentralized, so no matter where you create your account, you will be able to follow and interact with anyone on this server. You can even self-host it!'\n            />\n          </p>\n        </div>\n\n        <div className='interaction-modal__choices'>\n          <div className='interaction-modal__choices__choice'>\n            <h3><FormattedMessage id='interaction_modal.on_this_server' defaultMessage='On this server' /></h3>\n            {closedRegistrationsMessage}\n          </div>\n\n          <div className='interaction-modal__choices__choice'>\n            <h3><FormattedMessage id='interaction_modal.on_another_server' defaultMessage='On a different server' /></h3>\n            <p className='prose'>\n              <FormattedMessage\n                id='closed_registrations.other_server_instructions'\n                defaultMessage='Since Mastodon is decentralized, you can create an account on another server and still interact with this one.'\n              />\n            </p>\n            <a href='https://joinmastodon.org/servers' className='button button--block'><FormattedMessage id='closed_registrations_modal.find_another_server' defaultMessage='Find another server' /></a>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n}\n"],"sourceRoot":""}